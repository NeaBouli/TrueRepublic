@page "/testpage"
@using PnyxWebAssembly.Client.Entities

@inject IDialogService _dialogService
@inject ISnackbar _snackbar

<MudButton @onclick="OpenDialog" Variant="Variant.Filled" Color="Color.Primary" Style="margin: 20px">
    Edit Image
</MudButton>

@code {
    private async Task OpenDialog()
    {
        DialogParameters parameters = new DialogParameters { ["hashtags"] = new List<HashtagSelected>
        {
            new("#Familie", true),
            new("#Militär", false)
        }};

        var options = new DialogOptions
        {
            MaxWidth = MaxWidth.Large, 
            FullWidth = true,
            Position = DialogPosition.TopCenter
        };

        IDialogReference dialog =  _dialogService.Show<ImageSelector>("Edit Image", parameters, options);
        DialogResult result = await dialog.Result;

        _snackbar.Clear();
        _snackbar.Configuration.PositionClass = Defaults.Classes.Position.TopCenter;
        _snackbar.Add($"Selected Item: {result.Data}");
    }
}
