@page "/"

<AuthorizeView>
    <Authorized>
        @if (ShowAddUserWizard)
        {
            <MudContainer Fixed="true">

                <MudText>&nbsp;</MudText>
                <UserAddWizard ExternalUserId="@ExternalUserId" OnSuccess="OnSuccess" />

                @*@if (!string.IsNullOrEmpty(UserEMail))
                {
                    <MudText>&nbsp;</MudText>
                    <MudText>@UserName</MudText>
                    <MudText>@UserEMail</MudText>
                    <MudText>@ExternalUserId</MudText>
                }*@
            </MudContainer>
        }
        else
        {
            @if (Issues is { Count: > 0 })
            {
                <MudGrid Spacing="2" Justify="Justify.Center">
                    @foreach (var issue in Issues)
                    {
                        <MudItem lg="3">
                            <IssueCard UserName="@UserName" Issue="@issue" />
                        </MudItem>
                    }
                </MudGrid>
            }
        }
        <MudFab Color="Color.Primary" Icon="@Icons.Material.Filled.Add" Size="Size.Large" IconSize="Size.Large" Title="Add issue" 
                Style="position: fixed; right:70px; bottom:30px;"/>
    </Authorized>
    <NotAuthorized>
        <MudText>&nbsp;</MudText>
        <MudText Typo="Typo.h5">Login to see some Issues...</MudText>
    </NotAuthorized>
</AuthorizeView>
